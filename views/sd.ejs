<link rel="stylesheet" href="style.css">

<form class="sdsubmitbox" action="/sd-submit" method="POST">
    <input type="text" id="prompt" name="prompt" value= "<%= prompt %>" placeholder="Prompt"><br><br>
    <input type="text" id="negprompt" name="negprompt" value= "<%= negprompt %>" placeholder="Negative Prompt"><br><br>
    <button type="submit">Submit</button>
</form>

<script>
    const eventSource = new EventSource('/sd-events');

    eventSource.onmessage = function(event) {
        const data = JSON.parse(event.data);
        const imgElement = document.createElement('img');
        imgElement.src = `/public/images/${data.imageId}`;
        imgElement.alt = 'Generated Image';
        document.getElementById('image-container').appendChild(imgElement);
    };
</script>
